{"remainingRequest":"/home/luizfranca/Repositorios_Locais/studies/CleanCloud-CodeChallenge/CleanCloud-CodeChallenge/node_modules/babel-loader/lib/index.js!/home/luizfranca/Repositorios_Locais/studies/CleanCloud-CodeChallenge/CleanCloud-CodeChallenge/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/luizfranca/Repositorios_Locais/studies/CleanCloud-CodeChallenge/CleanCloud-CodeChallenge/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/luizfranca/Repositorios_Locais/studies/CleanCloud-CodeChallenge/CleanCloud-CodeChallenge/src/Views/Home/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/luizfranca/Repositorios_Locais/studies/CleanCloud-CodeChallenge/CleanCloud-CodeChallenge/src/Views/Home/Home.vue","mtime":1646618123624},{"path":"/home/luizfranca/Repositorios_Locais/studies/CleanCloud-CodeChallenge/CleanCloud-CodeChallenge/babel.config.js","mtime":1645400898261},{"path":"/home/luizfranca/Repositorios_Locais/studies/CleanCloud-CodeChallenge/CleanCloud-CodeChallenge/node_modules/cache-loader/dist/cjs.js","mtime":1646580716163},{"path":"/home/luizfranca/Repositorios_Locais/studies/CleanCloud-CodeChallenge/CleanCloud-CodeChallenge/node_modules/babel-loader/lib/index.js","mtime":1646580717243},{"path":"/home/luizfranca/Repositorios_Locais/studies/CleanCloud-CodeChallenge/CleanCloud-CodeChallenge/node_modules/cache-loader/dist/cjs.js","mtime":1646580716163},{"path":"/home/luizfranca/Repositorios_Locais/studies/CleanCloud-CodeChallenge/CleanCloud-CodeChallenge/node_modules/vue-loader/lib/index.js","mtime":1646580717555}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFVuZG8gZnJvbSAnLi9jb21wb25lbnRzL1VuZG8nOwppbXBvcnQgQ2VwU2VydmljZSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9DZXBTZXJ2aWNlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdIb21lJywKICBjb21wb25lbnRzOiB7CiAgICBVbmRvOiBVbmRvCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2VwOiAnJywKICAgICAgaXRlbXM6IFt7CiAgICAgICAgUnVhOiA0MCwKICAgICAgICBDRVA6ICdMYXJzZW4nLAogICAgICAgIENpZGFkZTogJ01hY2RvbmFsZCcsCiAgICAgICAgRXN0YWRvOiAnTGFyc2VuJywKICAgICAgICBDb21wbGVtZW50bzogJ01hY2RvbmFsZCcKICAgICAgfSwgewogICAgICAgIFJ1YTogMjEsCiAgICAgICAgQ0VQOiAnTGFyc2VuJywKICAgICAgICBDaWRhZGU6ICdTaGF3JywKICAgICAgICBFc3RhZG86ICdMYXJzZW4nLAogICAgICAgIENvbXBsZW1lbnRvOiAnTWFjZG9uYWxkJwogICAgICB9LCB7CiAgICAgICAgUnVhOiA4OSwKICAgICAgICBDRVA6ICdHZW5ldmEnLAogICAgICAgIENpZGFkZTogJ1dpbHNvbicsCiAgICAgICAgRXN0YWRvOiAnTGFyc2VuJywKICAgICAgICBDb21wbGVtZW50bzogJ01hY2RvbmFsZCcKICAgICAgfSwgewogICAgICAgIFJ1YTogMzgsCiAgICAgICAgQ0VQOiAnSmFtaScsCiAgICAgICAgQ2lkYWRlOiAnQ2FybmV5JywKICAgICAgICBFc3RhZG86ICdMYXJzZW4nLAogICAgICAgIENvbXBsZW1lbnRvOiAnTWFjZG9uYWxkJwogICAgICB9XSwKICAgICAgZmllbGRzOiBbJ1J1YScsICdDRVAnLCAnQ2lkYWRlJywgJ0VzdGFkbycsICdDb21wbGVtZW50bycsICdBw6fDtWVzJ10sCiAgICAgIG1lc3NhZ2U6ICcnLAogICAgICBzZWxlY3RlZEl0ZW06ICcnLAogICAgICBzZWxlY3RlZEl0ZW1JbmRleDogJycsCiAgICAgIGlzVW5kb1Zpc2libGU6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgcmVtb3ZlSXRlbTogZnVuY3Rpb24gcmVtb3ZlSXRlbShzZWxlY3RlZEl0ZW0sIGluZGV4KSB7CiAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSBzZWxlY3RlZEl0ZW07CiAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtSW5kZXggPSBpbmRleDsKICAgICAgdGhpcy5zaG93VW5kbygpOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2VwcycsIEpTT04uc3RyaW5naWZ5KHRoaXMuaXRlbXMpKTsKICAgIH0sCiAgICBzaG93VW5kbzogZnVuY3Rpb24gc2hvd1VuZG8oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmlzVW5kb1Zpc2libGUgPSB0cnVlOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5pc1VuZG9WaXNpYmxlID0gZmFsc2U7CiAgICAgIH0sIDUwMDApOwogICAgfSwKICAgIHVuZG9SZW1vdGlvbjogZnVuY3Rpb24gdW5kb1JlbW90aW9uKF9yZWYpIHsKICAgICAgdmFyIGl0ZW0gPSBfcmVmLml0ZW0sCiAgICAgICAgICBpbmRleCA9IF9yZWYuaW5kZXg7CiAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKGluZGV4LCAwLCBpdGVtKTsKICAgICAgdGhpcy5pc1VuZG9WaXNpYmxlID0gZmFsc2U7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjZXBzJywgSlNPTi5zdHJpbmdpZnkodGhpcy5pdGVtcykpOwogICAgfSwKICAgIGdldEFkZHJlc3M6IGZ1bmN0aW9uIGdldEFkZHJlc3MoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHRlbXBDZXAgPSAnJzsKCiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuY2VwKSB7CiAgICAgICAgdGVtcENlcCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5jZXA7CiAgICAgICAgdGhpcy4kcm91dGUucGFyYW1zLmNlcCA9IG51bGw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGVtcENlcCA9IHRoaXMuY2VwOwogICAgICB9CgogICAgICBDZXBTZXJ2aWNlLmdldEFkZHJlc3ModGVtcENlcCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAoIXJlc3BvbnNlLmRhdGEuZXJybykgewogICAgICAgICAgdmFyIHRlbXBBZHJlc3MgPSB7CiAgICAgICAgICAgIFJ1YTogcmVzcG9uc2UuZGF0YS5sb2dyYWRvdXJvLAogICAgICAgICAgICBDRVA6IHJlc3BvbnNlLmRhdGEuY2VwLAogICAgICAgICAgICBDaWRhZGU6IHJlc3BvbnNlLmRhdGEubG9jYWxpZGFkZSwKICAgICAgICAgICAgRXN0YWRvOiByZXNwb25zZS5kYXRhLnVmLAogICAgICAgICAgICBDb21wbGVtZW50bzogcmVzcG9uc2UuZGF0YS5jb21wbGVtZW50bwogICAgICAgICAgfTsKCiAgICAgICAgICBfdGhpczIuaXRlbXMucHVzaCh0ZW1wQWRyZXNzKTsKCiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2VwcycsIEpTT04uc3RyaW5naWZ5KF90aGlzMi5pdGVtcykpOwoKICAgICAgICAgIF90aGlzMi5fc3VjZXNzTWVzc2FnZSgpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgX3N1Y2Vzc01lc3NhZ2U6IGZ1bmN0aW9uIF9zdWNlc3NNZXNzYWdlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMubWVzc2FnZSA9ICJFbmRlcmXDp28gYWRpY2lvbmFkbyBjb20gc3VjZXNzbyI7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy5tZXNzYWdlID0gJyc7CiAgICAgIH0sIDUwMDApOwogICAgfSwKICAgIC8vZXNzYSBwYXJ0ZSBkYSB2YWxpZGFjYW8gdGV2ZSBxdWUgc2VyIGFzc2ltIHBvaXMgbyBjb21wb25lbnRlIGRlIGlucHV0IGRvIGJvb3RzdHJhcCBmb3JtYXRlciBvYnJpZ2EgcXVlIG8gbWV0b2RvIGRlIGZvcm1hdGFyIHNlamEgZnVuY2lvbmFsCiAgICBmb3JtYXRDZXA6IGZ1bmN0aW9uIGZvcm1hdENlcCh2YWx1ZSkgewogICAgICByZXR1cm4gdGhpcy5fcmVtb3ZlTGV0dGVyc0Zyb21DZXAodmFsdWUpOwogICAgfSwKICAgIF9yZW1vdmVMZXR0ZXJzRnJvbUNlcDogZnVuY3Rpb24gX3JlbW92ZUxldHRlcnNGcm9tQ2VwKHZhbHVlKSB7CiAgICAgIHJldHVybiB0aGlzLl9hZGREYXNoVG9DZXAodmFsdWUucmVwbGFjZSgvW15cZF0rL2csICcnKSk7CiAgICB9LAogICAgX2FkZERhc2hUb0NlcDogZnVuY3Rpb24gX2FkZERhc2hUb0NlcCh2YWx1ZSkgewogICAgICB2YXIgdGVtcFZhbHVlID0gdmFsdWU7CiAgICAgIHJldHVybiB0aGlzLl90cmltQ2VwKHRlbXBWYWx1ZS5yZXBsYWNlKC8oXGR7NX0pKFxkezN9KS8sICckMS0kMicpKTsKICAgIH0sCiAgICBfdHJpbUNlcDogZnVuY3Rpb24gX3RyaW1DZXAodmFsdWUpIHsKICAgICAgcmV0dXJuIHZhbHVlLnN1YnN0cmluZygwLCA5KTsKICAgIH0KICB9LAogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuY2VwKSB7CiAgICAgIHRoaXMuZ2V0QWRkcmVzcygpOwogICAgfQoKICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2VwcycpKSB7CiAgICAgIHRoaXMuaXRlbXMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjZXBzJykpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AAEA;AACAA,cADA;AAEAC;AAAAC;AAAA,GAFA;AAGAC,MAHA,kBAGA;AACA;AACAC,aADA;AAEAC,cACA;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OADA,EAEA;AAAAJ;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OAFA,EAGA;AAAAJ;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OAHA,EAIA;AAAAJ;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,OAJA,CAFA;AAQAC,wEARA;AASAC,iBATA;AAUAC,sBAVA;AAWAC,2BAXA;AAYAC;AAZA;AAcA,GAlBA;AAmBAC;AAGAC,cAHA,sBAGAJ,YAHA,EAGAK,KAHA,EAGA;AAEA;AAEA;AACA;AACA;AACAC;AACA,KAXA;AAaAC,YAbA,sBAaA;AAAA;;AACA;AACAC;AACA;AACA,OAFA,EAEA,IAFA;AAGA,KAlBA;AAmBAC,gBAnBA,8BAmBA;AAAA;AAAA;AACA;AACA;AACAH;AACA,KAvBA;AAwBAI,cAxBA,wBAwBA;AAAA;;AACA;;AACA;AACAC;AACA;AACA,OAHA,MAGA;AACAA;AACA;;AAEAC;AACA;AACA;AAAAnB;AAAAC;AAAAC;AAAAC;AAAAC;AAAA;;AACA;;AACAS;;AACA;AACA;AAEA,OARA,EAQAO,KARA,CAQA;AAAA;AAAA,OARA;AASA,KA1CA;AA4CAC,kBA5CA,4BA4CA;AAAA;;AACA;AACAN;AACA;AACA,OAFA,EAEA,IAFA;AAEA,KAhDA;AAkDA;AACAO,aAnDA,qBAmDAC,KAnDA,EAmDA;AACA;AACA,KArDA;AAsDAC,yBAtDA,iCAsDAD,KAtDA,EAsDA;AACA;AACA,KAxDA;AAyDAE,iBAzDA,yBAyDAF,KAzDA,EAyDA;AACA;AACA;AACA,KA5DA;AA6DAG,YA7DA,oBA6DAH,KA7DA,EA6DA;AACA;AACA;AA/DA,GAnBA;AAqFAI,aArFA,yBAqFA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AA5FA","names":["name","components","Undo","data","cep","items","Rua","CEP","Cidade","Estado","Complemento","fields","message","selectedItem","selectedItemIndex","isUndoVisible","methods","removeItem","index","localStorage","showUndo","setTimeout","undoRemotion","getAddress","tempCep","CepService","catch","_sucessMessage","formatCep","value","_removeLettersFromCep","_addDashToCep","_trimCep","beforeMount"],"sourceRoot":"src/Views/Home","sources":["Home.vue"],"sourcesContent":["<template>\n\t<div class=\"container\">\n\t\t<div class=\"formView\">\n\t\t\t<p>Pesquisar endereço</p>\n\t\t\t<b-form-input v-model=\"cep\" placeholder=\"Digite o CEP\" :formatter=\"formatCep\" />\n\t\t\t<b-button @click.prevent=\"getAddress\" >Pesquisar</b-button>\n\t\t\t<p> {{message}} </p>\n\t\t</div>\n        \n\t\t<div>\n\t\t<hr>\n\n<b-table  sticky-header hover head-variant=\"dark\"\n\t\tid=\"pages-table\"\n           :items=\"items\"\n           :fields=\"fields\">\n    <template v-slot:cell(Ações)=\"data\" >\n        <b-button @click.prevent=\"removeItem(data.item, data.index)\">\n          Deletar\n        </b-button>\n      </template>\n  </b-table>\n\n\t</div>\n\n<Undo v-if=\"isUndoVisible\" :item=\"selectedItem\" :index=\"selectedItemIndex\" @undo=\"undoRemotion\" />\n\t</div>\n\n</template>\n\n<script>\nimport Undo from './components/Undo';\nimport CepService from '../../services/CepService'\n\n\texport default {\n\t\tname: 'Home',\n\t\tcomponents: {Undo},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcep: '',\n\t\t\t\titems: [\n\t\t\t\t\t{ Rua: 40, CEP: 'Larsen', Cidade: 'Macdonald',Estado: 'Larsen',Complemento: 'Macdonald',  },\n\t\t\t\t\t{ Rua: 21, CEP: 'Larsen', Cidade: 'Shaw' ,Estado: 'Larsen',Complemento: 'Macdonald', },\n\t\t\t\t\t{ Rua: 89, CEP: 'Geneva', Cidade: 'Wilson',Estado: 'Larsen',Complemento: 'Macdonald', },\n\t\t\t\t\t{ Rua: 38, CEP: 'Jami', Cidade: 'Carney',Estado: 'Larsen',Complemento: 'Macdonald', },\n\t\t\t\t],\n\t\t\t\tfields:['Rua','CEP','Cidade','Estado', 'Complemento', 'Ações'],\n\t\t\t\tmessage: '',\n\t\t\t\tselectedItem: '',\n\t\t\t\tselectedItemIndex: '',\n\t\t\t\tisUndoVisible: false,\n\t\t\t};\n\t\t},\n\t\tmethods: {\n\n\n\t\t\tremoveItem(selectedItem, index){\n\t\t\t\t\n\t\t\t\tthis.items.splice(index,1)\n\t\t\t\t\t\n\t\t\t\tthis.selectedItem = selectedItem\n\t\t\t\tthis.selectedItemIndex = index\t\t\n\t\t\t\tthis.showUndo()\t\n\t\t\t\tlocalStorage.setItem('ceps', JSON.stringify(this.items) )\n\t\t\t},\n\n\t\t\tshowUndo(){\n\t\t\t\tthis.isUndoVisible= true\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.isUndoVisible= false\n\t\t\t\t}, 5000);\n\t\t\t},\n\t\t\tundoRemotion({item, index}){\n\t\t\t\tthis.items.splice(index, 0, item)\n\t\t\t\tthis.isUndoVisible=false\n\t\t\t\tlocalStorage.setItem('ceps', JSON.stringify(this.items) )\n\t\t\t},\n\t\t\tgetAddress(){\n\t\t\tlet tempCep = ''\n\t\t\tif(this.$route.params.cep){\n\t\t\ttempCep= this.$route.params.cep\n\t\t\tthis.$route.params.cep=null\n\t\t\t}else {\n\t\t\t\ttempCep = this.cep\n\t\t\t}\n\t\t\t\n\t\t\t\tCepService.getAddress(tempCep).then((response)=>{\n\t\t\t\t\tif(!response.data.erro){\n\t\t\t\t\tlet tempAdress = { Rua: response.data.logradouro, CEP: response.data.cep, Cidade: response.data.localidade ,Estado: response.data.uf, Complemento: response.data.complemento, }\n\t\t\t\t\tthis.items.push(tempAdress)\n\t\t\t\t\tlocalStorage.setItem('ceps', JSON.stringify(this.items) )\n\t\t\t\t\tthis._sucessMessage()\n\t\t\t\t\t}\t\n\n\t\t\t\t}).catch(error=>console.log(error))\n\t\t\t},\n\t\t\t\n           _sucessMessage(){\n\t\t\tthis.message =\"Endereço adicionado com sucesso\"\n\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.message= ''\n\t\t\t\t}, 5000);},\n\n\t\t\t//essa parte da validacao teve que ser assim pois o componente de input do bootstrap formater obriga que o metodo de formatar seja funcional\n\t\t\tformatCep(value){\n\t\t\t\treturn this._removeLettersFromCep(value)\n\t\t\t},\n\t\t\t_removeLettersFromCep(value){\n\t\t\t\treturn this._addDashToCep(value.replace(/[^\\d]+/g, ''))\n\t\t\t},\n\t\t\t_addDashToCep(value){\n\t\t\tlet tempValue = value\t\n\t\t\treturn this._trimCep(tempValue.replace(/(\\d{5})(\\d{3})/, '$1-$2'));\n\t\t\t},\n\t\t\t_trimCep(value){\n\t\t\t\treturn value.substring(0,9)\n\t\t\t},\n\n\t\t},\n\t\tbeforeMount(){\n\t\t\tif(this.$route.params.cep){\n\t\t\t\tthis.getAddress()\n\t\t\t}\n\t\t\tif(localStorage.getItem('ceps')){\n\t\t\t\tthis.items = JSON.parse(localStorage.getItem('ceps'))\n\t\t\t}\n\t\t}\n\n\t\t\n\t};\n</script>\n\n<style lang=\"scss\">\n\t.container {\n\t\tbackground-color: white;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\t.formView {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t}\n</style>\n"]}]}